webpackJsonp([64],{1327:function(e,t,r){"use strict";function i(e,t,i,n){var a={enrollYear:e,state:t,pageNum:i,pageSize:n};a=E.a.stringify(a);var o=Y.a+"/enroll/configuration/listByConditions";return r.i(_.a)({url:o,method:"post",data:a})}function n(){var e=Y.a+"/enroll/configuration/getAllEnrollYear";return r.i(_.a)({url:e,method:"post"})}function a(e){return e<10?"0"+e:e}function o(e){var t=new Date(e),r=t.getFullYear(),i=t.getMonth()+1,n=t.getDate(),o=t.getHours(),l=t.getMinutes(),s=t.getSeconds();return r+"-"+a(i)+"-"+a(n)+" "+a(o)+":"+a(l)+":"+a(s)}function l(e){e.beginTime=o(e.beginTime),e.endTime=o(e.endTime),e.originType=e.originType.join(","),e=E.a.stringify(e);var t=Y.a+"/enroll/configuration/insertSelective";return r.i(_.a)({url:t,method:"post",data:e})}function s(e){e.beginTime=o(e.beginTime),e.endTime=o(e.endTime),e.originType=e.originType.join(","),e=E.a.stringify(e);var t=Y.a+"/enroll/configuration/update";return r.i(_.a)({url:t,method:"post",data:e})}function u(e,t){var i={enrollLogicId:e,state:t},n=Y.a+"/enroll/configuration/stateChange";return i=E.a.stringify(i),r.i(_.a)({url:n,method:"post",data:i})}function d(e){var t={enrollLogicId:e},i=Y.a+"/enroll/configuration/delete";return t=E.a.stringify(t),r.i(_.a)({url:i,method:"post",data:t})}function c(e,t){var i={enrollId:e,taskType:t};i=E.a.stringify(i);var n=Y.a+"/enroll/enrollAndApplication/listByEnrolmentAllocation";return r.i(_.a)({url:n,method:"post",data:i})}function p(e,t){var i={enrollId:e,taskType:t};i=E.a.stringify(i);var n=Y.a+"/enroll/sceneAndApplication/listByEnrolmentAllocation";return r.i(_.a)({url:n,method:"post",data:i})}function m(e,t){var i={enrollId:e,type:t};i=E.a.stringify(i);var n=Y.a+"/enroll/applicationBasic/listConfigure";return r.i(_.a)({url:n,method:"post",data:i})}function f(e,t,i){var n={enrollName:e,applicationId:t,enrollId:i};n=E.a.stringify(n);var a=Y.a+"/enroll/enrollAndApplication/add";return r.i(_.a)({url:a,method:"post",data:n})}function g(e,t,i){var n={applicationName:e,applicationId:t,enrollId:i};n=E.a.stringify(n);var a=Y.a+"/enroll/sceneAndApplication/add";return r.i(_.a)({url:a,method:"post",data:n})}function h(e){var t={eaaLogicId:e};t=E.a.stringify(t);var i=Y.a+"/enroll/enrollAndApplication/delete";return r.i(_.a)({url:i,method:"post",data:t})}function v(e){var t={saaLogicId:e};t=E.a.stringify(t);var i=Y.a+"/enroll/sceneAndApplication/delete";return r.i(_.a)({url:i,method:"post",data:t})}function A(e){var t={eaaLogicId:e};t=E.a.stringify(t);var i=Y.a+"/enroll/enrollAndApplication/selectById";return r.i(_.a)({url:i,method:"post",data:t})}function b(e){var t={saaLogicId:e};t=E.a.stringify(t);var i=Y.a+"/enroll/sceneAndApplication/selectById";return r.i(_.a)({url:i,method:"post",data:t})}function y(e,t,i,n,a,o,l){var s={eaaLogicId:e,enrollName:t,eaaRevoke:i,type:n,bulletinLogicId:a,bulletinTitle:o,bulletinText:l};s=E.a.stringify(s);var u=Y.a+"/enroll/enrollAndApplication/updateApplication";return r.i(_.a)({url:u,method:"post",data:s})}function T(e,t,i,n,a,o,l){var s={saaId:e,applicationName:t,eaaRevoke:i,type:n,bulletinLogicId:a,bulletinTitle:o,bulletinText:l};s=E.a.stringify(s);var u=Y.a+"/enroll/sceneAndApplication/updateApplication";return r.i(_.a)({url:u,method:"post",data:s})}function x(e,t){var i={enrollId:e,type:t},n=Y.a+"/enroll/processLevel/info";return i=E.a.stringify(i),r.i(_.a)({url:n,method:"post",data:i})}function F(e,t,i){var n={enrollId:e,type:t,hierarchy:i};n=E.a.stringify(n);var a=Y.a+"/enroll//processLevel/save";return r.i(_.a)({data:n,url:a,method:"post"})}function B(e,t,i,n){var a={eaaId:e,bulletinUrl:t,bulletinTitle:i,bulletinText:n};a=E.a.stringify(a);var o=Y.a+"/enroll/bulletin/add";return r.i(_.a)({method:"post",url:o,data:a})}function C(e){var t={bulletinLogicId:e};t=E.a.stringify(t);var i=Y.a+"/enroll/bulletin/selectById";return r.i(_.a)({method:"post",url:i,data:t})}function k(e,t,i,n){var a={bulletinLogicId:e,bulletinUrl:t,bulletinTitle:i,bulletinText:n};a=E.a.stringify(a);var o=Y.a+"/enroll/bulletin/update";return r.i(_.a)({method:"post",url:o,data:a})}function I(e,t){var i={eaaId:e,showRange:t};i=E.a.stringify(i);var n=Y.a+"/enroll/bulletin/showRange";return r.i(_.a)({method:"post",url:n,data:i})}t.t=i,t.u=n,t.v=l,t.w=s,t.s=u,t.r=d,t.g=c,t.h=p,t.m=m,t.k=f,t.l=g,t.i=h,t.j=v,t.e=A,t.f=b,t.c=y,t.d=T,t.a=x,t.b=F,t.o=B,t.p=C,t.q=k,t.n=I;var _=r(200),w=r(201),E=r.n(w),Y=r(199)},1541:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(1327);t.default={data:function(){return{title:"新增",backpage:"/yingxin/process",ruleForm:{enrollName:"",enrollYear:"",beginTime:"",endTime:"",originType:[1,2,3]},stuOptions:[{id:1,name:"本科生"},{id:2,name:"专科生"},{id:3,name:"研究生"}],rules:{enrollName:[{required:!0,message:"迎新流程名称不能为空",trigger:"blur"}],beginTime:[{required:!0,message:"开始时间不能为空",trigger:"blur"}],endTime:[{required:!0,message:"结束时间不能为空",trigger:"blur"}],originType:[{required:!0,message:"请选择生源类型",trigger:"blur"}]}}},methods:{back:function(){this.$router.push({path:"process"})},submit:function(e){var t=this;"新增"===this.title?this.$refs[e].validate(function(n){if(!n)return!1;r.i(i.v)(t.ruleForm).then(function(r){t.ruleForm.originType=[1,2,3],r=r.data,"200"===r.state?(t.MessageSuccess(r.message),t.$router.push({path:"/yingxin/process"}),t.$refs[e].resetFields()):t.MessageError(r.message)}).catch(function(){t.ruleForm.originType=[1,2,3],t.MessageError()})}):this.$refs[e].validate(function(e){if(!e)return!1;r.i(i.w)(t.ruleForm).then(function(e){t.ruleForm.originType=[1,2,3],e=e.data,"200"===e.state?(t.MessageSuccess(e.message),t.$router.push({path:"/yingxin/process"})):t.MessageError(e.message)}).catch(function(){t.ruleForm.originType=[1,2,3],t.MessageError()})})},changeStart:function(){if(this.ruleForm.beginTime<this.ruleForm.endTime||""===this.ruleForm.endTime)return!0;this.MessageError("结束时间必须大于开始时间"),this.ruleForm.endTime=""},changeEnd:function(){if(this.ruleForm.beginTime<this.ruleForm.endTime)return!0;this.MessageError("结束时间必须大于开始时间"),this.ruleForm.endTime=""},getYear:function(){var e=new Date;this.ruleForm.enrollYear=e.getFullYear()},judgeEdit:function(){var e=this.$store.getters.processItem;e.endTime&&(this.title="编辑",this.ruleForm.enrollName=e.processName,this.ruleForm.enrollYear=e.year,this.ruleForm.beginTime=Date.parse(new Date(e.creatTime)),this.ruleForm.endTime=Date.parse(new Date(e.endTime)),this.ruleForm.originType=e.originType,this.ruleForm.enrollLogicId=e.enrollLogicId)}},created:function(){this.getYear(),this.judgeEdit()}}},1607:function(e,t,r){t=e.exports=r(1322)(!0),t.push([e.i,".vue-header[data-v-594ff9ce]{width:100%;height:49px;line-height:50px;font-size:14px;border-bottom:1px solid #2184c5}.vue-header p[data-v-594ff9ce]{color:#555;font-weight:700;display:inline-block;font-family:MicrosoftYaHei-Bold}.vue-header .crumbs[data-v-594ff9ce]{display:inline-block;position:relative;top:2px;left:11px;font-size:10px;border-left:2px solid #a7a7a7;padding-left:10px}","",{version:3,sources:["D:/vue-yxxt/src/pages/yxCms/view/yingxin/addProcess.vue"],names:[],mappings:"AACA,6BACE,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,+BAAiC,CAClC,AACD,+BACE,WAAY,AACZ,gBAAkB,AAClB,qBAAsB,AACtB,+BAAiC,CAClC,AACD,qCACE,qBAAsB,AACtB,kBAAmB,AACnB,QAAS,AACT,UAAW,AACX,eAAgB,AAChB,8BAA+B,AAC/B,iBAAmB,CACpB",file:"addProcess.vue",sourcesContent:["\n.vue-header[data-v-594ff9ce] {\n  width: 100%;\n  height: 49px;\n  line-height: 50px;\n  font-size: 14px;\n  border-bottom: 1px solid #2184c5;\n}\n.vue-header p[data-v-594ff9ce] {\n  color: #555;\n  font-weight: bold;\n  display: inline-block;\n  font-family: MicrosoftYaHei-Bold;\n}\n.vue-header .crumbs[data-v-594ff9ce] {\n  display: inline-block;\n  position: relative;\n  top: 2px;\n  left: 11px;\n  font-size: 10px;\n  border-left: 2px solid #a7a7a7;\n  padding-left: 10px;\n}"],sourceRoot:""}])},1681:function(e,t,r){var i=r(1607);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r(1323)("7ad423a4",i,!0,{})},1765:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticStyle:{padding:"20px"}},[r("el-header",[r("el-row",{staticClass:"vue-header"},[r("p",[e._v(e._s(e.title))]),e._v(" "),r("el-breadcrumb",{staticClass:"crumbs",attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:e.backpage}}},[e._v("迎新配置")]),e._v(" "),"新增"===this.title?r("el-breadcrumb-item",[e._v("新增")]):e._e(),e._v(" "),"编辑"===this.title?r("el-breadcrumb-item",[e._v("编辑")]):e._e()],1)],1)],1),e._v(" "),r("el-main",[r("el-col",{attrs:{span:8}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:"迎新流程名称",prop:"enrollName"}},[r("el-input",{attrs:{type:"textarea",placeholder:"限20字符中英文数字","auto-complete":"off"},model:{value:e.ruleForm.enrollName,callback:function(t){e.$set(e.ruleForm,"enrollName",t)},expression:"ruleForm.enrollName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"迎新年限",prop:"enrollYear"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.ruleForm.enrollYear)+"\n          ")]}}])}),e._v(" "),r("el-form-item",{attrs:{label:"开始时间",prop:"beginTime"}},[r("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择开始日期时间","default-time":"12:00:00"},on:{change:e.changeStart},model:{value:e.ruleForm.beginTime,callback:function(t){e.$set(e.ruleForm,"beginTime",t)},expression:"ruleForm.beginTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束日期时间","value-format":"timestamp","default-time":"12:00:00"},on:{change:e.changeEnd},model:{value:e.ruleForm.endTime,callback:function(t){e.$set(e.ruleForm,"endTime",t)},expression:"ruleForm.endTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"生源类型",prop:"originType"}},[r("el-checkbox-group",{model:{value:e.ruleForm.originType,callback:function(t){e.$set(e.ruleForm,"originType",t)},expression:"ruleForm.originType"}},e._l(e.stuOptions,function(t,i){return r("el-checkbox",{key:i,attrs:{label:t.id}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("el-form-item",[r("el-button",{on:{click:e.back}},[e._v("返回")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit("ruleForm")}}},[e._v("提交")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},560:function(e,t,r){function i(e){r(1681)}var n=r(4)(r(1541),r(1765),i,"data-v-594ff9ce",null);e.exports=n.exports}});
//# sourceMappingURL=64.347aff39eb2ef51acf1a.js.map